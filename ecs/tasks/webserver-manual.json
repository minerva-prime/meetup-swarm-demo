{
    "requiresCompatibilities": [
      "EC2"
    ],
    "executionRoleArn": "arn:aws:iam::910416587115:role/ecsTaskExecutionRole",
    "containerDefinitions": [
      {
        "name": "webserver",
        "image": "910416587115.dkr.ecr.eu-west-1.amazonaws.com/demo-webserver:v1",
        "memory": 256,
        "memoryReservation": 128,
        "cpu": 200,
        "essential": true,
        "portMappings": [
          {
            "containerPort": 80,
            "protocol": "tcp"
          }
        ],
        "healthCheck": {
            "retries": 3,
            "command" :[
                "CMD-SHELL",
                "curl -f http://localhost/ping || exit 1"
            ],
            "timeout": 5,
            "interval": 30,
            "startPeriod": 1
        },
        "logConfiguration": {
            "logDriver": "awslogs",
            "options": {
                "awslogs-group": "ecs-demo-webserver",
                "awslogs-region": "eu-west-1",
                "awslogs-stream-prefix": "demo-webserver"
            }
        }
      }
    ],
    "volumes": [],
    "networkMode": "awsvpc",
    "cpu": "200",
    "placementConstraints": [],
    "family": "webserver"
  }